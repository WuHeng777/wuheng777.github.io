<!DOCTYPE html>
<html lang="zh-Hant-TW">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>PurrGo å–µä¾†é€Ÿï½œåˆç‰ˆç¶²é  App</title>
  <meta name="description" content="PurrGo å–µä¾†é€Ÿï½œè²“ç ‚å¿«å–è‡ªå‹•è²©è³£æ©Ÿèˆ‡åŠŸèƒ½å‹è²“ç ‚å“ç‰Œçš„åˆæ­¥ç¶²é  App MVPã€‚" />
  <meta name="theme-color" content="#ff7f50" />
  <style>
    :root{ --brand:#ff7f50; --text:#111; --bg:#fff; --muted:#666; --line:#eee; --radius:14px; --shadow:0 10px 24px rgba(0,0,0,.06) }
    @media (prefers-color-scheme: dark){ :root{ --text:#eee; --bg:#0b0b0c; --muted:#aaa; --line:#222 } body{ background:#0b0b0c } }
    *{ box-sizing:border-box } body{ margin:0; font:16px/1.6 system-ui,-apple-system,"Segoe UI",Roboto,"Noto Sans TC","PingFang TC",sans-serif; color:var(--text); background:var(--bg) }
    a{ color:inherit; text-decoration:none } .container{ width:min(1100px,92vw); margin:auto }
    header{ position:sticky; top:0; z-index:50; backdrop-filter:saturate(180%) blur(10px); background:color-mix(in oklab, var(--bg), transparent 10%); border-bottom:1px solid var(--line) }
    .nav{ display:flex; align-items:center; justify-content:space-between; padding:12px 0; gap:12px }
    .brand{ display:flex; align-items:center; gap:10px; font-weight:800; letter-spacing:.5px }
    .logo{ width:28px;height:28px; border-radius:8px; background:var(--brand); display:grid; place-items:center; color:#000; font-weight:900 }
    .tabs{ display:flex; gap:6px; flex-wrap:wrap } .tab{ padding:8px 12px; border:1px solid var(--line); border-radius:999px; font-weight:600 }
    .tab[aria-current="page"]{ background:var(--brand); border-color:var(--brand); color:#000 }
    main{ padding:28px 0 80px }
    .hero{ display:grid; grid-template-columns:1.15fr .85fr; gap:22px; align-items:center; margin:10px 0 28px }
    @media(max-width:900px){ .hero{ grid-template-columns:1fr } }
    .card{ background:linear-gradient(180deg, color-mix(in oklab,var(--bg),#fff 6%), color-mix(in oklab,var(--bg),#000 2%)); border:1px solid var(--line); border-radius:var(--radius); box-shadow:var(--shadow); padding:22px }
    .btn{ display:inline-grid; place-items:center; height:44px; padding:0 18px; border-radius:12px; font-weight:800; border:1.5px solid #000; background:var(--brand) }
    .btn.secondary{ background:transparent; border-color:var(--line); color:var(--text) }
    .grid{ display:grid; gap:16px } .g-3{ grid-template-columns:repeat(3,1fr) } .g-2{ grid-template-columns:repeat(2,1fr) }
    @media(max-width:900px){ .g-3{ grid-template-columns:1fr } .g-2{ grid-template-columns:1fr } }
    .kpi{ display:flex; gap:16px; flex-wrap:wrap } .kpi .item{ flex:1 1 160px; border:1px dashed var(--line); border-radius:12px; padding:14px }
    .muted{ color:var(--muted) } .pill{ display:inline-block; padding:4px 10px; border-radius:999px; background:color-mix(in oklab,var(--brand),#fff 70%); color:#000; font-weight:700; font-size:12px }
    .list{ margin:0; padding:0; list-style:none; display:grid; gap:8px }
    .input, select, textarea{ width:100%; height:44px; border:1px solid var(--line); border-radius:10px; padding:10px 12px; background:transparent; color:inherit }
    textarea{ height:120px; resize:vertical }
    .inline{ display:flex; gap:10px; align-items:center; flex-wrap:wrap }
    .table{ width:100%; border-collapse:collapse; font-size:14px } .table th,.table td{ border-bottom:1px solid var(--line); padding:10px 8px; text-align:left }
    footer{ border-top:1px solid var(--line); padding:28px 0; color:var(--muted); font-size:14px }
    .toast{ position:fixed; right:14px; bottom:14px; padding:12px 14px; background:#111; color:#fff; border-radius:12px; opacity:0; transform:translateY(12px); transition:.25s }
    .toast.show{ opacity:1; transform:translateY(0) } .empty{ text-align:center; padding:22px; border:1px dashed var(--line); border-radius:12px }
    .demo{ position:fixed; left:10px; bottom:10px; background:#000; color:#fff; padding:6px 10px; border-radius:999px; font-size:12px; opacity:.8 }
  </style>
</head>
<body>
  <header>
    <div class="container nav" role="navigation" aria-label="ä¸»å°è¦½">
      <div class="brand"><div class="logo" aria-hidden="true">ğŸ¾</div><div>PurrGo å–µä¾†é€Ÿ</div></div>
      <nav class="tabs" id="tabs">
        <a class="tab" href="#/home">é¦–é </a>
        <a class="tab" href="#/products">ç”¢å“</a>
        <a class="tab" href="#/kiosk">è²©è³£æ©Ÿé»ä½</a>
        <a class="tab" href="#/survey">ç”¨æˆ¶å•å·</a>
        <a class="tab" href="#/partners">é€šè·¯/åˆä½œ</a>
        <a class="tab" href="#/admin">Admin</a>
      </nav>
    </div>
  </header>

  <main class="container" id="app" tabindex="-1"></main>

  <footer>
    <div class="container">
      <div>Â© <span id="year"></span> PurrGo å–µä¾†é€Ÿ ï½œå“ç‰Œä¸»è‰² #ff7f50</div>
      <div class="muted">æ­¤ç‚º MVP å±•ç¤ºã€‚æ‰€æœ‰è³‡æ–™ç‚ºç¤ºæ„ï¼Œå¯ç›´æ¥å°æ¥ APIã€‚</div>
    </div>
  </footer>

  <div class="toast" id="toast" role="status" aria-live="polite"></div>
  <div class="demo">DEMO</div>

  <script>
  const DB = {
    products: [
      { id:"catlite-young", name:"å¾®é‡å…ƒç´ é©…èŸ²ç ‚ï½œå¹¼è²“", price:399, weight:"2.5kg", badge:"æ—¥å¸¸è£œçµ¦ï¼‹é«”å…§å¤–é©…èŸ²", desc:"å¹¼è²“å°ˆå±¬é…æ–¹ï¼›å«éµ/é‹…/éŠ…/éŒ³/ç¢˜/ç¡’é…µæ¯ç²‰èˆ‡å—ç“œç±½ç²‰ç­‰ï¼Œå®‰å…¨é£Ÿå“ç´šæ·»åŠ ã€‚", stock:120 },
      { id:"catlite-adult", name:"å¾®é‡å…ƒç´ é©…èŸ²ç ‚ï½œæˆè²“", price:429, weight:"2.5kg", badge:"é•·æ•ˆæŠ‘è‡­ï¼‹å¥åº·è£œçµ¦", desc:"æˆè²“æ—¥å¸¸å¥åº·ç¶­è­·ï¼›è±†è…ç ‚åŸºåº•èˆ‡å¾®è† å›ŠåŒ…è¦†æŠ€è¡“ç²‰ã€‚", stock:86 },
      { id:"catlite-senior", name:"å¾®é‡å…ƒç´ é©…èŸ²ç ‚ï½œç†Ÿé½¡è²“", price:459, weight:"2.5kg", badge:"é—œéµç…§è­·å‡ç´š", desc:"ç†Ÿé½¡é…æ–¹ï¼Œæ¸›æ•æº«å’Œï¼›åŠ å…¥æ´‹ç”˜èŠã€è¿·è¿­é¦™èˆ‡ç¡’é…µæ¯ç²‰ã€‚", stock:44 }
    ],
    kiosks: [
      { id:"txg-a01", city:"å°ä¸­", name:"å‹¤ç¾èª å“æ—å¿«å–é»", status:"ç±Œå‚™ä¸­", eta:"2025-10", features:["24hr","ç„¡æ¥è§¸æ”¯ä»˜","Line é€šçŸ¥"] },
      { id:"tpe-a02", city:"å°åŒ—", name:"å¤§å®‰æ£®æ—å…¬åœ’ç«™", status:"æ´½è«‡ä¸­", eta:"2026-01", features:["NFC","æœƒå“¡æŠ˜æ‰£"] }
    ],
    partnersTips:[
      "å„ªå…ˆææ¡ˆ 7-ELEVEN / å…¨å®¶ä¾¿åˆ©å•†åº—ï¼Œå»ºç«‹é€šè·¯å¯ä¿¡åº¦èˆ‡ç©©å®šå±•é»ã€‚",
      "æä¾›ã€ç„¡è² æ“”è©¦é» 3-5 å°ã€çš„å›æ”¶æ¨¡å‹ï¼Œé™ä½é¦–æœŸå°å…¥é¢¨éšªã€‚",
      "å°å…¥è£œè²¨ç›£æ§ï¼‹ç”¢éšª/å…¬æ„éšªï¼Œå»ºç«‹ SOP èˆ‡åˆè¦ã€‚"
    ]
  };

  const Cart = {
    key:"purrgo.cart",
    get(){ return JSON.parse(localStorage.getItem(this.key)||"[]") },
    set(v){ localStorage.setItem(this.key, JSON.stringify(v)); },
    add(item){
      const cart=this.get();
      const idx = cart.findIndex(x=>x.id===item.id);
      if(idx>-1){ cart[idx].qty += item.qty||1; } else { cart.push({ ...item, qty:item.qty||1 }); }
      this.set(cart); toast("å·²åŠ å…¥è³¼ç‰©è»Š");
    },
    clear(){ this.set([]); toast("è³¼ç‰©è»Šå·²æ¸…ç©º"); }
  };

  const $ = (sel, el=document)=> el.querySelector(sel);
  const $$ = (sel, el=document)=> [...el.querySelectorAll(sel)];
  const money = n => `NT$ ${n.toLocaleString()}`;
  const toast = (msg)=>{ const t=$("#toast"); t.textContent=msg; t.classList.add("show"); setTimeout(()=>t.classList.remove("show"), 1600); };

  const routes = { "/home": renderHome, "/products": renderProducts, "/kiosk": renderKiosk, "/survey": renderSurvey, "/partners": renderPartners, "/admin": renderAdmin };
  function navTo(hash){ location.hash = hash }
  function currentRoute(){ return location.hash.replace("#","") || "/home" }
  function setActiveTab(){ const now=currentRoute(); $$("#tabs .tab").forEach(a=>{ a.setAttribute("aria-current", a.getAttribute("href").replace("#","")===now ? "page" : "false"); }) }

  function renderHome(root){
    root.innerHTML = `
      <section class="hero">
        <div class="card">
          <span class="pill">å“ç‰Œ MVP</span>
          <h1 style="margin:.2em 0 .3em; font-size:clamp(28px,3.4vw,44px); line-height:1.15;">
            è²“ç ‚å¿«å–è‡ªå‹•è²©è³£æ©Ÿ Ã— åŠŸèƒ½å‹è²“ç ‚<br/>ä¾¿åˆ©ã€å¯æ„›ã€æ½®æ„Ÿçš„é¤Šè²“æ—¥å¸¸
          </h1>
          <p class="muted">ä»¥é»ä½ä¾¿åˆ©èˆ‡æ—¥å¸¸å¥åº·è£œçµ¦ç‚ºæ ¸å¿ƒï¼ŒPurrGo å–µä¾†é€Ÿæä¾› 24 å°æ™‚å¿«å–è£œç ‚ã€æœƒå“¡æŠ˜æ‰£ã€æµªæµªå…¬ç›Šå¸¸æ…‹æåŠ©ã€‚</p>
          <div class="inline" style="margin-top:12px">
            <button class="btn" onclick="navTo('#/products')">ç«‹å³é¸è³¼</button>
            <button class="btn secondary" onclick="navTo('#/kiosk')">æŸ¥çœ‹è²©è³£æ©Ÿé»ä½</button>
          </div>
          <div class="kpi" style="margin-top:18px">
            <div class="item"><div class="muted">é è¨ˆé¦–æ‰¹é»ä½</div><div style="font-weight:900;font-size:24px">3â€“5 å°</div></div>
            <div class="item"><div class="muted">æœƒå“¡å¹³å‡å›è³¼</div><div style="font-weight:900;font-size:24px">28 å¤©</div></div>
            <div class="item"><div class="muted">å…¬ç›ŠæåŠ©ï¼ˆç›®æ¨™ï¼‰</div><div style="font-weight:900;font-size:24px">ç‡Ÿæ”¶ 10%</div></div>
          </div>
        </div>
        <div class="card">
          <h3 style="margin-top:0">ç•¶æœˆä¸»æ‰“ï½œå¾®é‡å…ƒç´ é©…èŸ²ç ‚</h3>
          <ul class="list">
            <li>ãƒ»å®‰å…¨ã€Œå¯µç‰©é£Ÿå“ç´šã€åŸæ–™ï¼Œå¾®è† å›ŠåŒ…è¦†æŠ€è¡“ã€‚</li>
            <li>ãƒ»åˆ†é½¡ä¸‰æ¬¾ï¼ˆå¹¼è²“ï¼æˆè²“ï¼ç†Ÿé½¡ï¼‰ç²¾æº–ç…§è­·ã€‚</li>
            <li>ãƒ»æŠ‘è‡­çµåœ˜ã€æº«å’Œæˆåˆ†ã€æ—¥å¸¸è£œçµ¦ï¼‹é«”å…§å¤–æ”¯æŒã€‚</li>
          </ul>
          <div class="inline" style="margin-top:10px">
            <button class="btn" onclick="navTo('#/products')">çœ‹ä¸‰æ¬¾å·®ç•°</button>
            <a class="btn secondary" href="#/survey">æˆ‘è¦åƒèˆ‡ç”¨æˆ¶æ¸¬è©¦</a>
          </div>
        </div>
      </section>

      <section class="grid g-3">
        <div class="card"><h3 style="margin:0 0 6px">ä¾¿åˆ©è£œç ‚</h3><p class="muted">è²©è³£æ©Ÿ 24hr å¿«å–ã€æ”¯æ´ç„¡æ¥è§¸æ”¯ä»˜ã€App é€šçŸ¥è£œè²¨æé†’ã€‚</p></div>
        <div class="card"><h3 style="margin:0 0 6px">å¥åº·è£œçµ¦</h3><p class="muted">å…­å¤§å¾®é‡å…ƒç´ ï¼‹å¤©ç„¶èƒå–ç²‰ï¼Œæ—¥å¸¸èˆ”æ¯›å³å¯å¾®è£œçµ¦ã€‚</p></div>
        <div class="card"><h3 style="margin:0 0 6px">å…±å¥½å…¬ç›Š</h3><p class="muted">è¨­è¨ˆã€Œæµªæµªæ´åŠ©ã€å¸¸æ…‹æåŠ©æ©Ÿåˆ¶ï¼Œè®“æ¯æ¬¡è£œç ‚éƒ½æ›´æœ‰æ„ç¾©ã€‚</p></div>
      </section>`;
  }

  function renderProducts(root){
    const rows = DB.products.map(p=>`
      <div class="card">
        <div class="inline" style="justify-content:space-between"><h3 style="margin:0">${p.name}</h3><span class="pill">${p.badge}</span></div>
        <p class="muted" style="margin:.3em 0">${p.desc}</p>
        <table class="table">
          <tr><th>å»ºè­°å”®åƒ¹</th><td>${money(p.price)}</td></tr>
          <tr><th>æ·¨é‡</th><td>${p.weight}</td></tr>
          <tr><th>åº«å­˜</th><td>${p.stock} åŒ…</td></tr>
        </table>
        <div class="inline" style="margin-top:8px">
          <label class="muted">æ•¸é‡
            <select id="qty-${p.id}">${[...Array(10)].map((_,i)=>`<option value="${i+1}">${i+1}</option>`).join("")}</select>
          </label>
          <button class="btn" onclick="(function(){ const qty=+document.getElementById('qty-${p.id}').value; Cart.add({ id:'${p.id}', name:'${p.name}', price:${p.price}, qty }); })()">åŠ å…¥è³¼ç‰©è»Š</button>
        </div>
      </div>`).join("");

    root.innerHTML = `
      <section class="grid g-3">${rows}</section>
      <section style="margin-top:18px" class="card">
        <h3 style="margin-top:0">è³¼ç‰©è»Š</h3>
        <div id="cart"></div>
        <div class="inline" style="margin-top:10px">
          <button class="btn secondary" onclick="Cart.clear(); renderProducts(document.getElementById('app'))">æ¸…ç©º</button>
          <button class="btn" onclick="toast('çµå¸³æµç¨‹ï¼šå¾…ä¸²æ¥é‡‘æµ API');">å‰å¾€çµå¸³</button>
        </div>
      </section>`;
    renderCart();
  }
  function renderCart(){
    const wrap = document.getElementById("cart"); const cart = Cart.get();
    if(!cart.length){ wrap.innerHTML = `<div class="empty">è³¼ç‰©è»Šæ˜¯ç©ºçš„</div>`; return; }
    const total = cart.reduce((s,i)=>s + i.price*i.qty, 0);
    wrap.innerHTML = `
      <table class="table">
        <thead><tr><th>å“é …</th><th>å–®åƒ¹</th><th>æ•¸é‡</th><th>å°è¨ˆ</th></tr></thead>
        <tbody>${cart.map(i=>`<tr><td>${i.name}</td><td>${money(i.price)}</td><td>${i.qty}</td><td>${money(i.price*i.qty)}</td></tr>`).join("")}</tbody>
        <tfoot><tr><th colspan="3" style="text-align:right">åˆè¨ˆ</th><th>${money(total)}</th></tr></tfoot>
      </table>`;
  }

  function renderKiosk(root){
    root.innerHTML = `
      <section class="grid g-2">
        ${DB.kiosks.map(k=>`
          <div class="card">
            <div class="inline" style="justify-content:space-between"><h3 style="margin:0">${k.city}ãƒ»${k.name}</h3><span class="pill">${k.status}</span></div>
            <p class="muted" style="margin:.2em 0">é è¨ˆä¸Šç·šï¼š${k.eta}</p>
            <div class="inline" style="gap:8px; flex-wrap:wrap">${k.features.map(f=>`<span class="pill" style="background:#eee">${f}</span>`).join("")}</div>
            <div class="inline" style="margin-top:10px">
              <button class="btn" onclick="openKioskReserve('${k.id}')">æƒ³è¦æ­¤é»ä½</button>
              <button class="btn secondary" onclick="toast('åœ°åœ–åŠŸèƒ½ï¼šå¾…ä¸²æ¥åœ°åœ– SDK')">åœ°åœ–æŸ¥çœ‹</button>
            </div>
          </div>`).join("")}
      </section>`;
  }
  function openKioskReserve(kioskId){ const k = DB.kiosks.find(x=>x.id===kioskId); const name = prompt(\`æäº¤ \${k.city}ãƒ»\${k.name} çš„é»ä½å»ºè­°ï¼éœ€æ±‚ï¼ˆç•™ä¸‹ç¨±å‘¼ï¼‰\`); if(name){ toast("å·²é€å‡ºéœ€æ±‚ï¼Œå°éšŠæœƒè¯ç¹«ä½ "); } }

  function renderSurvey(root){
    root.innerHTML = `
      <section class="card">
        <h2 style="margin-top:0">ç”¨æˆ¶å•å·ï¼ˆMVPï¼‰</h2>
        <form id="surveyForm" onsubmit="return submitSurvey(this)">
          <div class="grid g-2">
            <label>ç¨±å‘¼/Name<input class="input" name="name" required maxlength="30" /></label>
            <label>Emailï¼ˆç”¨æ–¼é€šçŸ¥èˆ‡å›é¥‹ï¼‰<input class="input" type="email" name="email" required /></label>
          </div>
          <label>åŸå¸‚
            <select name="city" class="input" required>
              <option value="">è«‹é¸æ“‡</option>
              <option>å°åŒ—</option><option>æ–°åŒ—</option><option>æ¡ƒåœ’</option>
              <option>å°ä¸­</option><option>å°å—</option><option>é«˜é›„</option>
            </select>
          </label>
          <label>ä½ ç›®å‰ä½¿ç”¨çš„è²“ç ‚é¡å‹
            <select name="type" class="input" required>
              <option value="">è«‹é¸æ“‡</option>
              <option>è±†è…ç ‚</option><option>ç¤¦ç ‚</option><option>ç´™ç ‚</option><option>çŸ½ç ‚</option><option>å…¶ä»–</option>
            </select>
          </label>
          <label>å¹³å¸¸å¹¾å¤©è£œç ‚ä¸€æ¬¡ï¼Ÿ<input class="input" name="freq" placeholder="ä¾‹å¦‚ï¼š14 å¤©" /></label>
          <label>å…¶ä»–å»ºè­°ï¼ˆé¸å¡«ï¼‰<textarea name="note" placeholder="å‘Šè¨´æˆ‘å€‘ä½ æœ€åœ¨æ„çš„é»ï½"></textarea></label>
          <div class="inline" style="margin-top:10px">
            <button class="btn" type="submit">é€å‡º</button>
            <button class="btn secondary" type="reset">æ¸…é™¤</button>
          </div>
        </form>
      </section>
      <section class="card" id="surveyList">
        <h3 style="margin-top:0">æˆ‘æäº¤çš„å•å·ï¼ˆåƒ…æœ¬æ©Ÿï¼‰</h3>
        <div class="empty">å°šç„¡è³‡æ–™</div>
      </section>`;
    refreshSurveyList();
  }
  function submitSurvey(form){
    const data = Object.fromEntries(new FormData(form).entries());
    if(!/^\S+@\S+\.\S+$/.test(data.email)){ toast("Email æ ¼å¼ä¸æ­£ç¢º"); return false; }
    const key="purrgo.surveys"; const list = JSON.parse(localStorage.getItem(key)||"[]");
    list.push({ ...data, ts: Date.now() }); localStorage.setItem(key, JSON.stringify(list));
    form.reset(); toast("å·²é€å‡ºï¼Œæ„Ÿè¬åƒèˆ‡ï¼"); refreshSurveyList(); return false;
  }
  function refreshSurveyList(){
    const key="purrgo.surveys"; const list = JSON.parse(localStorage.getItem(key)||"[]").reverse(); const box = document.getElementById("surveyList");
    if(!list.length){ box.innerHTML = `<h3 style="margin-top:0">æˆ‘æäº¤çš„å•å·ï¼ˆåƒ…æœ¬æ©Ÿï¼‰</h3><div class="empty">å°šç„¡è³‡æ–™</div>`; return; }
    box.innerHTML = `
      <h3 style="margin-top:0">æˆ‘æäº¤çš„å•å·ï¼ˆåƒ…æœ¬æ©Ÿï¼‰</h3>
      <table class="table">
        <thead><tr><th>æ™‚é–“</th><th>ç¨±å‘¼</th><th>Email</th><th>åŸå¸‚</th><th>é¡å‹</th><th>é »ç‡</th><th>å‚™è¨»</th></tr></thead>
        <tbody>${list.map(x=>`<tr><td>${new Date(x.ts).toLocaleString()}</td><td>${x.name}</td><td>${x.email}</td><td>${x.city}</td><td>${x.type}</td><td>${x.freq||"-"}</td><td>${x.note||"-"}</td></tr>`).join("")}</tbody>
      </table>`;
  }

  function renderPartners(root){
    root.innerHTML = `
      <section class="grid g-2">
        <div class="card">
          <h3 style="margin-top:0">åˆä½œææ¡ˆè¦é»ï¼ˆç²¾ç°¡ç‰ˆï¼‰</h3>
          <ul class="list">${DB.partnersTips.map(t=>`<li>ãƒ»${t}</li>`).join("")}</ul>
          <div class="inline" style="margin-top:8px">
            <button class="btn" onclick="toast('å°‡å¯„å‡º Demo Deckï¼šå¾…ä¸²æ¥éƒµä»¶æœå‹™')">ç´¢å– Demo Deck</button>
            <button class="btn secondary" onclick="navTo('#/admin')">æŸ¥çœ‹æŒ‡æ¨™</button>
          </div>
        </div>
        <div class="card">
          <h3 style="margin-top:0">åˆä½œæ´½è«‡è¡¨å–®</h3>
          <form onsubmit="toast('å·²é€å‡ºï¼Œç¨å¾Œç”±å°ˆäººè¯ç¹«'); this.reset(); return false;">
            <div class="grid g-2">
              <label>å…¬å¸/åº—å<input class="input" required/></label>
              <label>è¯çµ¡äºº<input class="input" required/></label>
            </div>
            <label>Email<input class="input" type="email" required/></label>
            <label>æƒ³åˆä½œçš„åŸå¸‚
              <select class="input" required>
                <option value="">è«‹é¸æ“‡</option><option>å°åŒ—</option><option>æ–°åŒ—</option><option>æ¡ƒåœ’</option>
                <option>å°ä¸­</option><option>å°å—</option><option>é«˜é›„</option>
              </select>
            </label>
            <label>ç°¡è¿°è²´æ–¹é–€å¸‚/é»ä½æ¢ä»¶<textarea placeholder="äººæµã€ç‡Ÿæ¥­æ™‚é–“ã€åªæ•¸ç­‰"></textarea></label>
            <div class="inline" style="margin-top:8px"><button class="btn" type="submit">é€å‡ºåˆä½œæ„å‘</button></div>
          </form>
        </div>
      </section>`;
  }

  function renderAdmin(root){
    const cart = Cart.get(); const gm = (cart.reduce((s,i)=>s+i.price*i.qty,0))||0;
    root.innerHTML = `
      <section class="card">
        <h2 style="margin-top:0">ç‡Ÿé‹å„€è¡¨æ¿ï¼ˆDemoï¼‰</h2>
        <div class="kpi">
          <div class="item"><div class="muted">ä»Šæ—¥ GMVï¼ˆæœ¬æ©Ÿï¼‰</div><div style="font-weight:900;font-size:24px">${money(gm)}</div></div>
          <div class="item"><div class="muted">æœƒå“¡æ•¸ï¼ˆè¡¨å–®ç´¯è¨ˆï¼‰</div><div style="font-weight:900;font-size:24px">${(JSON.parse(localStorage.getItem('purrgo.surveys')||"[]")).length}</div></div>
          <div class="item"><div class="muted">å•Ÿå‹•é»ä½</div><div style="font-weight:900;font-size:24px">${DB.kiosks.length}</div></div>
        </div>
        <div class="inline" style="margin-top:12px">
          <button class="btn" onclick="toast('åŒ¯å‡º CSVï¼šå¾…ä¸²æ¥')">åŒ¯å‡ºå ±è¡¨</button>
          <button class="btn secondary" onclick="localStorage.clear(); toast('å·²æ¸…ç©ºæœ¬æ©Ÿè³‡æ–™'); location.reload()">æ¸…ç©ºæœ¬æ©Ÿè³‡æ–™</button>
        </div>
      </section>
      <section class="card">
        <h3 style="margin-top:0">API ä»‹é¢å®šç¾©ï¼ˆé ç•™ï¼‰</h3>
        <pre style="white-space:pre-wrap; font-size:13px; line-height:1.4">
GET  /api/products         // å–å¾—å•†å“æ¸…å–®
POST /api/cart/checkout    // çµå¸³ï¼ˆpayload: cart, userï¼‰
GET  /api/kiosks           // å–å¾—é»ä½åˆ—è¡¨
POST /api/surveys          // é€å‡ºå•å·
POST /api/partners         // åˆä½œæ´½è«‡
        </pre>
      </section>`;
  }

  function render(){ const route=currentRoute(); const view=routes[route]||renderHome; const root=document.getElementById("app"); view(root); setActiveTab(); root.focus({preventScroll:true}); }
  window.addEventListener("hashchange", render);
  window.addEventListener("DOMContentLoaded", ()=>{ document.getElementById("year").textContent=new Date().getFullYear(); if(!location.hash) location.hash="#/home"; render(); });
  </script>
</body>
</html>
